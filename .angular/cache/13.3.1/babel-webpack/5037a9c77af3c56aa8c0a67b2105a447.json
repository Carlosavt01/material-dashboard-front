{"ast":null,"code":"import _classCallCheck from \"/home/shlep/Desktop/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/shlep/Desktop/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FormArray, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Cliente } from 'app/programming/dto/Cliente.dto';\nimport { ClienteService } from 'app/programming/services/cliente.service';\nimport { UsuarioService } from 'app/programming/services/usuario.service';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"app/programming/services/cliente.service\";\nimport * as i3 from \"app/programming/services/usuario.service\";\nimport * as i4 from \"@angular/router\";\n\nvar _c0 = function _c0() {\n  return [\"/notifications\"];\n};\n\nexport var TypographyComponent = /*#__PURE__*/(function () {\n  var TypographyComponent = /*#__PURE__*/function () {\n    function TypographyComponent(formBuilder, clienteService, usuarioService, router) {\n      _classCallCheck(this, TypographyComponent);\n\n      this.formBuilder = formBuilder;\n      this.clienteService = clienteService;\n      this.usuarioService = usuarioService;\n      this.router = router;\n      this.clienteCreado = new Cliente();\n    }\n\n    _createClass(TypographyComponent, [{\n      key: \"cliente\",\n      get: function get() {\n        return this.clienteForm.controls;\n      }\n    }, {\n      key: \"usuario\",\n      get: function get() {\n        return this.usuarioForm.controls;\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.clienteForm = this.formBuilder.group({\n          id_cliente: [null],\n          nombre_cliente: ['', [Validators.required]],\n          apellido_paterno_cliente: ['', [Validators.required]],\n          apellido_materno_cliente: ['', [Validators.required]],\n          edad_cliente: ['', [Validators.required]],\n          medicamentos: new FormArray([])\n        });\n        this.usuarioForm = this.formBuilder.group({\n          id_usuario: [null],\n          nombre_usuario: ['', [Validators.required]],\n          correo_usuario: ['', [Validators.required]],\n          clave_usuario: ['', [Validators.required]],\n          cliente: new Cliente()\n        });\n      }\n    }, {\n      key: \"onSubmitCliente\",\n      value: function onSubmitCliente() {\n        var _this = this;\n\n        var cliente = this.clienteForm.value;\n        console.log(cliente);\n        this.clienteService.createOrUpdate(cliente).subscribe(function (resp) {\n          console.log(resp.body);\n          _this.clienteCreado = resp.body;\n          Swal.fire(\"Cliente agregado\", \"\", \"success\");\n        }, function (error) {\n          Swal.fire(\"Error\", \"Error interno al crear\", \"error\");\n        });\n      }\n    }, {\n      key: \"onSubmitUsuario\",\n      value: function onSubmitUsuario() {\n        var _this2 = this;\n\n        var usuarioACrear = this.usuarioForm.value;\n        usuarioACrear.cliente = this.clienteCreado;\n        this.usuarioService.createOrUpdate(usuarioACrear).subscribe(function (resp) {\n          console.log(resp.body);\n          Swal.fire(\"Registrado\", \"Registrado exitosamente\", \"success\");\n\n          _this2.router.navigate(['/notifications']);\n        }, function (error) {\n          Swal.fire(\"Error en api\", \"Hubo un error al llamar a la api de registro\", \"error\");\n          console.log(error);\n        });\n      }\n    }]);\n\n    return TypographyComponent;\n  }();\n\n  TypographyComponent.ɵfac = function TypographyComponent_Factory(t) {\n    return new (t || TypographyComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.UsuarioService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n\n  TypographyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TypographyComponent,\n    selectors: [[\"app-typography\"]],\n    decls: 56,\n    vars: 4,\n    consts: [[1, \"main-content\"], [1, \"container-fluid\"], [2, \"display\", \"flex\", \"justify-content\", \"flex-start\"], [\"role\", \"button\", 1, \"btn\", \"btn-dark\", 3, \"routerLink\"], [1, \"card\"], [1, \"card-header\", \"card-header-danger\"], [1, \"card-title\"], [1, \"card-category\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"grid__form\"], [1, \"mb-3\"], [\"for\", \"nombre\", 1, \"form-label\"], [\"formControlName\", \"nombre_cliente\", \"name\", \"nombre_cliente\", \"type\", \"email\", \"id\", \"nombre\", \"aria-describedby\", \"emailHelp\", 1, \"form-control\"], [\"for\", \"apellido_paterno\", 1, \"form-label\"], [\"formControlName\", \"apellido_paterno_cliente\", \"name\", \"apellido_paterno_cliente\", \"type\", \"text\", \"id\", \"apellido_paterno\", 1, \"form-control\"], [\"for\", \"apellido_materno\", 1, \"form-label\"], [\"formControlName\", \"apellido_materno_cliente\", \"name\", \"apellido_materno_cliente\", \"type\", \"text\", \"id\", \"apellido_materno\", 1, \"form-control\"], [\"formControlName\", \"edad_cliente\", \"name\", \"edad_cliente\", \"for\", \"edad_cliente\", 1, \"form-label\"], [\"formControlName\", \"edad_cliente\", \"name\", \"edad_cliente\", \"type\", \"text\", \"id\", \"edad_cliente\", 1, \"form-control\"], [\"type\", \"submit\", \"value\", \"Siguiente\", 1, \"btn\", \"btn-success\"], [1, \"containet-fluid\"], [\"for\", \"nombre_usuario\", 1, \"form-label\"], [\"formControlName\", \"nombre_usuario\", \"name\", \"nombre_usuario\", \"type\", \"email\", \"id\", \"nombre_usuario\", \"aria-describedby\", \"emailHelp\", 1, \"form-control\"], [\"for\", \"correo\", 1, \"form-label\"], [\"formControlName\", \"correo_usuario\", \"name\", \"correo_usuario\", \"type\", \"text\", \"id\", \"correo\", 1, \"form-control\"], [\"for\", \"clave\", 1, \"form-label\"], [\"formControlName\", \"clave_usuario\", \"name\", \"clave_usuario\", \"type\", \"password\", \"id\", \"clave\", 1, \"form-control\"], [\"type\", \"submit\", \"value\", \"Registrar\", 1, \"btn\", \"btn-success\"]],\n    template: function TypographyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵtext(4, \"Volver\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"h4\", 6);\n        i0.ɵɵtext(8, \"Registro paso 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\", 7);\n        i0.ɵɵtext(10, \"Ingresa tus datos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 8)(12, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function TypographyComponent_Template_form_ngSubmit_12_listener() {\n          return ctx.onSubmitCliente();\n        });\n        i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"label\", 12);\n        i0.ɵɵtext(16, \"Nombre completo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 11)(19, \"label\", 14);\n        i0.ɵɵtext(20, \"Apellido Paterno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 11)(23, \"label\", 16);\n        i0.ɵɵtext(24, \"Apellido Materno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 11)(27, \"label\", 18);\n        i0.ɵɵtext(28, \"Edad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"div\");\n        i0.ɵɵelement(31, \"input\", 20);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 21)(33, \"div\", 4)(34, \"div\", 5)(35, \"h4\", 6);\n        i0.ɵɵtext(36, \"Registro paso 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"p\", 7);\n        i0.ɵɵtext(38, \"Crea tu cuenta\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 8)(40, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function TypographyComponent_Template_form_ngSubmit_40_listener() {\n          return ctx.onSubmitUsuario();\n        });\n        i0.ɵɵelementStart(41, \"div\", 10)(42, \"div\", 11)(43, \"label\", 22);\n        i0.ɵɵtext(44, \"Nombre de usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"input\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 11)(47, \"label\", 24);\n        i0.ɵɵtext(48, \"Correo electronico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(49, \"input\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 11)(51, \"label\", 26);\n        i0.ɵɵtext(52, \"Contrase\\xF1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"input\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(54, \"div\");\n        i0.ɵɵelement(55, \"input\", 28);\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.clienteForm);\n        i0.ɵɵadvance(28);\n        i0.ɵɵproperty(\"formGroup\", ctx.usuarioForm);\n      }\n    },\n    directives: [i4.RouterLinkWithHref, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName],\n    styles: [\".grid__form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:2rem;column-gap:2rem}\"]\n  });\n  return TypographyComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}